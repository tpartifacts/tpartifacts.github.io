(this["webpackJsonptaqwa-prayer"]=this["webpackJsonptaqwa-prayer"]||[]).push([[8],{10:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={CLOSE:"close",NOW:"now",UPCOMING:"upcoming"}},15:function(e,t,n){"use strict";n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return m})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return O})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return p}));var a=n(14),r=n.n(a),c=n(19),i=n(22),o=n(2),u=n.n(o),l=n(10),s=n(5),f=function(e,t){var n=Math.floor(u.a.duration(e.diff(t)).asHours()),a=Math.floor(u.a.duration(e.diff(t)).asMinutes())+1,r=a-60*n;60===r&&(n++,r=0);var c="no time",i=l.a.UPCOMING;return c=n>1?"".concat(n," hours "):n>0?"".concat(n," hour "):"",r>0&&(c="".concat(c).concat(r," min"),r>1&&(c="".concat(c,"s"))),0===r&&0===n?(c="now",i=l.a.NOW):a<15&&(i=l.a.CLOSE),{type:i,remaining:c}},d=function(){return u()().format(s.a)},m=function(e){return"Friday"===(e||u()()).format("dddd")},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return u()(e,s.h).add(t,"minutes").format(s.c)},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return u()(e,s.h).add(t,"minutes").format(s.h)},b=function(e){var t=e.day,n=e.adhaan,a=e.iqaamah,r=e.upcomingIqaamah,c=["fajr","dhuhr","asr","maghrib","ishaa"],o=n[d()],b=t||u()(),p=Object(i.a)(Object(i.a)({},a),{},{maghrib:O(o.maghrib,s.e+10)}),E=null,v=l.a.UPCOMING,j=null,_=null;for(var S in c){if(E)break;var T=m()&&"dhuhr"===c[S],g=T?"jumuah":c[S],N=p[g],A=u()(N,s.h);if(A.isAfter(b)){T&&u.a.duration(A.diff(b)).asMinutes()<30&&(v=l.a.CLOSE),j=O(N),E=g;break}if(p[g]){if((A=u()(p[g],s.h)).isAfter(b)){v=l.a.CLOSE,E=g,j=O(p[g]);break}_={name:g,time:p[g]}}}var P=null;if(null!==E){var I=u()(j,s.h),M=f(I,b);v=M.type,P=M.remaining}if(_){var C=u()(_.time,s.h);Math.floor(u.a.duration(b.diff(C)).asMinutes())<=(m()&&"jumuah"===_.name?30:10)&&(v=l.a.NOW,E=_.name,j=_.time,P="now")}var w=!E;if(w){E="fajr",v=l.a.UPCOMING;var D=u()().add(1,"day");D.set({hour:23,minute:59,second:59});var R=u()(r.effective,s.d).isSameOrBefore(D);j=O((R?r:a)[E]);var y=u()(j,s.h),U=u()().add(1,"day");U.set({hour:y.get("hour"),minute:y.get("minute"),second:0});var Y=f(U,b);v=Y.type,P=Y.remaining}return{name:E,type:v,remaining:P,time:h(j),isAfterIshaa:w}},p=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.endpoint,a=t.fallback,void 0===a?{}:a,e.next=3,fetch(n).then((function(e){return e.json()})).catch((function(e){return null}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},16:function(e,t,n){"use strict";n.d(t,"b",(function(){return l.withContext}));var a=n(14),r=n.n(a),c=n(19),i=n(3),o=n(0),u=n.n(o),l=n(9),s=n(2),f=n.n(s),d=n(40),m=n.n(d),h=n(20),O=n(5),b=n(15),p=function(){var e=Object(o.useState)(1),t=Object(i.a)(e,2),n=t[0],a=t[1],u=Object(o.useState)(null),l=Object(i.a)(u,2),s=l[0],d=l[1],m=Object(o.useState)(null),O=Object(i.a)(m,2),p=O[0],E=O[1],v=Object(o.useState)(null),j=Object(i.a)(v,2),_=j[0],S=j[1],T=Object(o.useState)(null),g=Object(i.a)(T,2),N=g[0],A=g[1],P=Object(o.useState)(null),I=Object(i.a)(P,2),M=I[0],C=I[1],w=Object(o.useState)(null),D=Object(i.a)(w,2),R=D[0],y=D[1],U=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15e3,a=Object(o.useState)(localStorage&&localStorage.getItem(e)||t),r=Object(i.a)(a,2),c=r[0],u=r[1];return Object(o.useEffect)((function(){var a=setInterval((function(){localStorage&&localStorage.getItem(e)!==c?u(localStorage.getItem(e)||t):localStorage||console.log("localStorage API not available")}),n);return function(){return clearInterval(a)}}),[c,e,n,t]),c}("cache-breaker",32,2e3),Y=Object(o.useState)(!1),x=Object(i.a)(Y,2),W=x[0],k=x[1];Object(o.useEffect)((function(){var e=setInterval((function(){a((function(e){return e+1}))}),72e5);return function(){return clearInterval(e)}}),[]);var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t="";return Object({NODE_ENV:"production",PUBLIC_URL:"https://tpartifacts.github.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_FIREBASE_KEY_B64:"QUl6YVN5RFVXdUQ3d3c1MTc4S3ZTWG1BamhDaktxTWZ6MlZ4T000",REACT_APP_VERSION:"4.0.4"}).REACT_APP_MONITOR_ONLY&&(t="https://taqwa.zuhd.org"),"".concat(t).concat(h.a.ADHAAN_ENDPOINT).concat(e,"&")},H=function(e){var t="";return Object({NODE_ENV:"production",PUBLIC_URL:"https://tpartifacts.github.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_FIREBASE_KEY_B64:"QUl6YVN5RFVXdUQ3d3c1MTc4S3ZTWG1BamhDaktxTWZ6MlZ4T000",REACT_APP_VERSION:"4.0.4"}).REACT_APP_MONITOR_ONLY&&(t="https://taqwa.zuhd.org"),"".concat(t).concat(e?h.a.IQAAMAH_UPCOMING_ENDPOINT:h.a.IQAAMAH_CURR_ENDPOINT)};return Object(o.useEffect)((function(){(function(){var e=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n>0&&console.info("Remote fetch #%s at %s",n,f()().format("DD-MM-YYYY HH:mm:ss")),e.next=3,Object(b.a)({endpoint:H()+n+U});case 3:return e.t0=e.sent,e.next=6,Object(b.a)({endpoint:H(!0)+n+U});case 6:return e.t1=e.sent,e.next=9,Object(b.a)({endpoint:B()+n+U});case 9:return e.t2=e.sent,e.next=12,Object(b.a)({endpoint:B(1)+n+U});case 12:e.t3=e.sent,t={currentTimes:e.t0,upcomingTimes:e.t1,adhaan:e.t2,adhaanNextMonth:e.t3},a=!1,t.currentTimes?E(t.currentTimes):a=!0,t.upcomingTimes?S(t.upcomingTimes):a=!0,t.adhaan?A(t.adhaan):a=!0,t.adhaanNextMonth?C(t.adhaanNextMonth):a=!0,y(a?"Could not connect to the internet":null),d(f()()),k(!0);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n,U]),[p,_,N,M,n,s,R,W]};t.a=function(e){var t=e.children,n=Object(o.useState)(!1),a=Object(i.a)(n,2),r=a[0],c=a[1],s=Object(o.useState)(m.a.parse(window.location.search)),d=Object(i.a)(s,1)[0],h=p(),b=Object(i.a)(h,8),E=b[0],v=b[1],j=b[2],_=b[3],S=b[4],T=b[5],g=b[6],N=b[7],A=Object(o.useState)(null),P=Object(i.a)(A,2),I=P[0],M=P[1];Object(o.useEffect)((function(){if(v&&v.effective){var e=f()(v.effective,O.d),t=f()();t.set({hour:23,minute:59,second:59}),e.isSameOrBefore(t)?M(v):M(E)}}),[E,v]),Object(o.useEffect)((function(){r!==N&&c(N)}),[r,N]);return u.a.createElement(l.Provider,{value:{initPage:function(e,t){e(),window.setInterval((function(){e()}),1e3*t)},iqaamah:I,currentTimes:E,upcomingTimes:v,adhaan:j,adhaanNextMonth:_,ready:r,q:d,monitorMode:Object({NODE_ENV:"production",PUBLIC_URL:"https://tpartifacts.github.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_FIREBASE_KEY_B64:"QUl6YVN5RFVXdUQ3d3c1MTc4S3ZTWG1BamhDaktxTWZ6MlZ4T000",REACT_APP_VERSION:"4.0.4"}).REACT_APP_MONITOR_ONLY||"undefined"!==typeof d.monitor,meta:O.f,version:"4.0.4",lastUpdated:T&&S>=2?T.format("DD MMM, YYYY [at] HH:mm"):null,fetchError:g}},t)}},20:function(e,t,n){"use strict";t.a={SAVE_ENDPOINT_CURR:"/api/v1/iqaamah?",SAVE_ENDPOINT_UPCOMING:"/api/v1/iqaamah?upcoming=true&",IQAAMAH_CURR_ENDPOINT:"/api/v1/iqaamah?",IQAAMAH_UPCOMING_ENDPOINT:"/api/v1/iqaamah?upcoming=true&",ADHAAN_ENDPOINT:"/api/v1/adhaan?offset=",META_ENDPOINT:"/api/v1/meta?key="}},21:function(e,t,n){"use strict";var a=n(3),r=n(0),c=n.n(r),i=n(9);n.d(t,"b",(function(){return i.withContext}));var o=n(41),u=n.n(o),l=(n(76),n(78),{apiKey:window.atob("QUl6YVN5RFVXdUQ3d3c1MTc4S3ZTWG1BamhDaktxTWZ6MlZ4T000"),authDomain:"taqwa-prayer.firebaseapp.com",databaseURL:"https://taqwa-prayer.firebaseio.com",projectId:"taqwa-prayer",storageBucket:"taqwa-prayer.appspot.com",messagingSenderId:"768945538528",appId:"1:768945538528:web:dc0c5fc42d9fc21b505785",measurementId:"G-NQ3D49XVKF"});t.a=function(e){var t=e.children,n=Object(r.useState)(null),o=Object(a.a)(n,2),s=o[0],f=o[1];return Object(r.useEffect)((function(){f(u.a.initializeApp(l))}),[]),c.a.createElement(i.Provider,{value:{firebase:s}},t)}},29:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(42),i=n.n(c);n(85);t.a=function(){return r.a.createElement("div",{className:"app__pending"},r.a.createElement(i.a,{size:"100px",label:r.a.createElement("img",{src:"/isb.png",alt:"ISB",className:"app__icon"})}))}},34:function(e,t,n){"use strict";var a=n(3),r=n(0),c=n.n(r),i=n(9);n.d(t,"b",(function(){return i.withContext}));var o=n(21);t.a=Object(o.b)("firebase")((function(e){var t=e.children,n=e.firebase,o=Object(r.useState)(!0),u=Object(a.a)(o,2),l=u[0],s=u[1],f=Object(r.useState)(null),d=Object(a.a)(f,2),m=d[0],h=d[1];Object(r.useEffect)((function(){n&&n.auth().onAuthStateChanged((function(e){h(null!==e?e:null),s(!1)}))}),[n]);return c.a.createElement(i.Provider,{value:{currentUser:m,signout:function(){return new Promise((function(e,t){s(!0),n.auth().signOut().then((function(){s(!1),e()})).catch((function(e){t(e)}))}))},signin:function(e,t){return new Promise((function(a,r){e&&t||r("Email address and/or password has not been provided!"),s(!0),n.auth().signInWithEmailAndPassword(e,t).then((function(){s(!1),a()})).catch((function(e){r(e)}))}))},statusPending:l}},m&&c.a.createElement("div",{style:{textAlign:"right",color:"#777"}},"[",m.email,"]"),t)}))},48:function(e,t,n){e.exports=n(89)},5:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"h",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return s}));var a="D-MM-YYYY",r=4,c="HH:mm",i="h:mm a",o="YYYY-MM-DD",u="After Khutbah",l="adhaanBuiltDate",s={NAME:"Masjid al-Taqwa",FULL_NAME:"Masjid al-Taqwa, Spence ACT",LOGO:"/isb.png",EMAIL:"taqwabroadcaster@amrayn.com",PHONE:"+61433456066"}},85:function(e,t,n){},86:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(39),i=n.n(c),o=n(32),u=n(11),l=n(33),s=n(16),f=n(21),d=n(34),m=function(e){var t=e.children;return r.a.createElement(f.a,null,r.a.createElement(d.a,null,t))},h=n(29),O=n(3),b=Object(s.b)("fetchError")((function(e){var t=Object(a.useState)(!1),n=Object(O.a)(t,2),c=n[0],i=n[1],o=Object(a.useState)(e.fetchError),u=Object(O.a)(o,2),l=u[0],s=u[1];return Object(a.useEffect)((function(){e.fetchError!==l&&s(e.fetchError)}),[l,e.fetchError]),r.a.createElement(r.a.Fragment,null,l&&c&&r.a.createElement("div",{className:"App-error"},l,r.a.createElement("button",{className:"App-error-button",onClick:function(){i(!1)}},r.a.createElement("span",{role:"img","aria-label":"close"},"\u274c"))),l&&!c&&r.a.createElement("button",{className:"App-error-button",onClick:function(){i(!0)}},r.a.createElement("span",{role:"img","aria-label":"excl"},"\u2757")))})),p=(n(86),Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,107))}))),E=Object(a.lazy)((function(){return n.e(2).then(n.bind(null,137))})),v=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,108))})),j=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,138))})),_=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,112))})),S=Object(a.lazy)((function(){return Promise.all([n.e(11),n.e(1)]).then(n.bind(null,140))})),T=Object(a.lazy)((function(){return n.e(4).then(n.bind(null,139))})),g=Object(s.b)("ready","currentTimes","upcomingTimes","meta")((function(e){return r.a.createElement(m,null,r.a.createElement(S,e))})),N=function(){return r.a.createElement(s.a,null,r.a.createElement(l.MediaQueryProvider,null,r.a.createElement(o.a,null,r.a.createElement(a.Suspense,{fallback:r.a.createElement(h.a,null)},r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:p}),r.a.createElement(u.a,{path:"/embed",component:E}),r.a.createElement(u.a,{path:"/week",component:_}),r.a.createElement(u.a,{path:"/next",component:v}),r.a.createElement(u.a,{path:"/slide",component:j}),r.a.createElement(u.a,{path:"/edit",component:g}),r.a.createElement(u.a,{path:"*",component:T})))),r.a.createElement(b,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(88);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,9,10]]]);